


from API_Functions import *
from time import sleep


# deleteSvShm()

stopMonitor()

# addMonitorSampledValue()
# addSampledValue()

# stopMonitor()
# runMonitor()

# # runSniffer()

# sleep(2)

# for i in range(20) :
#     x = getAnalyseSvInfo("TRTC")
#     print(x['Rms'])
#     sleep(1)


# stopMonitor()

# 
# runAnalyse()
# sleep(0.1)
# runSniffer()

# # d  =2 

# sleep(5)
# stopAnalyse()
# stopSniffer()
















# import pprint, json

# svCtl = SampledValueControl()
# svCtl.openShm()

# sv = svCtl.getSvData(0)

# qualityAnalyse = sv.analyseData

# ret = {
#     "flags":{
#         "sag": qualityAnalyse.sag.flag,
#         "swell": qualityAnalyse.swell.flag,
#         "interruption": qualityAnalyse.interruption.flag,
#         "overVoltage": qualityAnalyse.overVoltage.flag,
#         "underVoltage": qualityAnalyse.underVoltage.flag
#     },
#     "Rms": qualityAnalyse.rms,
#     "Symmetrical": qualityAnalyse.symmetrical,
#     "Unbalance": qualityAnalyse.unbalance,
#     "Phasor": qualityAnalyse.phasor_polar,
#     "found": sv.found
# }

# jsonData = json.dumps(ret).encode()
# # print(len(jsonData))

# pprint.pprint(ret)

# d = 2

# from time import sleep


# print(x)

# print(y)

# addMonitorSampledValue()
# # 
# runMonitor()
# # 
# sleep(10)

# stopMonitor()

# runAnalyse()

# stopAnalyse()

# runSniffer()

# stopSniffer()

